## PassGuard  프로젝트

본 웹 사이트는 PassGuard 시스템에 대한 문서를 제공 합니다. 아키텍처와 관련된 문서들은 [C4 Model](https://c4model.com/) 의 가이드를 따르며, 추가적으로는 특정 주제에 최적화된 형태의 문서들도 포함하고 있습니다. 

### 배경
대부분의 소프트웨어 시스템에서 사용자를 식별하는 역량은 여러 형태의 비즈니스 모델을 지원하기 위한 기초가 됩니다. 
간편하면서 보안 관점에서 취약하기도 한 사용자의 ID/PW 를 관리하고 일치 여부를 확인하는 방식 부터, (흔히 Social Login 으로 불리는) OAuth 를 지원하는 3rd Party 서비스를 통해 사용자 Profile 에 대한 권한을 확인하는 방식으로 이미 구축된 다양한 방식의 인증 방법을 활용하는 방법 등이 있습니다. 
이를 통해 서비스 개발자는 안전하고 견고한 방식의 사용자 인증을 직접 구현하지 않고 비즈니스 로직에 더 집중할 수 있습니다.

OAuth 방식을 이용해 인증을 대체하는 것은 사용자의 편의와 개발 생산성을 대체로 만족시킬 수 있는 현실적인 방안 입니다. 
다만 인증(Authentication) 기능 자체를 제공한다기 보다는 3rd Party 서비스가 관리하는 리소스(Resource)를 사용할 수 있는 권한을 부여(Authorization) 하는 과정에서 진행되는 인증 절차를 활용하는 것이기 때문에 개발자가 개발중인 시스템에 대한 진위 여부를 OAuth 를 제공하는 3rd Party 서비스에 증명해야 하는 등 필요한 절차를 수반합니다.

PassGuard 는 서비스 개발자가 필요로 하는 인증 기능을 API를 이용해서 통합할 수 있도록 하는 Identity 서비스 입니다.
OAuth 방식을 이용하는 것과 다른 점은 별도의 관리자 웹 애플리케이션을 이용해서 본인 서비스의 사용자 정보 관리를 직접 할 수 있다는 것입니다.

서비스 개발자는 비즈니스 모델 구현에 더 집중하여 더 빠르게 사용자에게 고유의 비즈니스 역량을 제공할 수 있습니다.

### 핵심 비즈니스 역량

1. 서비스 개발자가 비즈니스 로직 구현에 집중할 수 있도록 공통적으로 필요한 기능을 공급하는 시스템 가칭 PassGuard
2. 서비스 개발자는 간단하게  [FIDO](https://fidoalliance.org/) 기반의 인증 시스템을 도입할 수 있다.
3. 사용자는 서비스별로 인증 정보 및 방식을 기억할 필요가 없다.

### 지속적인 진화

- 서비스간 신뢰성을 부여해 데이터 및 서비스를 공유한다.
- 사용자가 자신의 개인 정보를 스스로 책임질 수 있도록 한다.

### FAQ

Q. PassGuard는 OAuth 를 대체 하나요?
    
> 대부분의 서비스는 OAuth 기술을 소셜 로그인 인증 구현을 위해 사용하고 있습니다. 
> PassGuard를 연동하면 소셜로그인 기반의 간편 인증보다 더 간단한 passkey 기반의 인증 기능을 도입할 수 있습니다. 따라서 사용자 인증 관점에서는 OAuth 프로토콜을 대체할 수 있습니다.
    
Q. PassGuard를 이용 했을 때, Google, Facebook 등 계정을 활용한 Social Login 을 여전히 지원하는 것인가요? 혹은 Barracks 가 또 하나의 Social Login 제공자 인가요?
> 소셜 로그인을 온전히 대체하는 것을 목표로하지만 기존 시스템과의 호환을 고려했을 때, 또하나의 소셜 로그인처럼 연동하는 것이 더 유리할 수 있습니다.

Q. PassGuard를 이용하는 방법은 API 통합인가요? 별도의 프로그램 설치 혹은 서버 구축인가요?
>   1. OAuth 연동처럼 restapi 방식으로 서드파티 서버가 PassGuard 서버와 통신하는 방식입니다.
>   2. 서드파티 서비스는 PassGuard로부터 Public Key를 부여받고 PassGuard는 해당 키로 인증 가능한 토큰을 제공합니다. 결과적으로 서드파티 서비스는 직접 PassGuard 서비스와 통신할 필요가 없습니다.
>
>       예상 시나리오: 사용자가 PassGuard 인증 페이지에서 passkey인증을 진행한다. → 기기에 있는 private key로 암호화된 데이터 서드파티 서비스로 전송 → 서드파티 서비스는 해당 토큰을 PaasGuard를 통해 검증 → 유효한 인증정보면 해당 서비스에서 어떤 사용자인지에 대한 사용자 자격증명 정보를 응답 (소셜 로그인이랑 동일한 프로세스?)

### 제공하고 있는 문서들

1. [System Context View](identity-service/context/): 전체 시스템이 외부의 다른 시스템과 어떤 상호 관계가 있는지 나타냅니다. 시스템의 세부 항목들은 의도적으로 생략 합니다. 이해관계자와 역할 등을 표시하여 도메인이나 엔지니어링의 전문적인 배경이 없는 사람도 비교적 쉽게 이해할 수 있습니다. 

2. [Container diagram](identity-service/container): 컨테이너는 코드를 실행하거나 데이터를 저장하는 등 실행/배포 가능한 단위 입니다. 소프트웨어 시스템에서 각 역할에 대한 요소들이 어떻게 배치(deployment)되고 어떠한 기술 사양으로 구현되는지에 대한 정보를 포함하고 있습니다.


### System Landscape Diagram
System Landscape Diagram 은 최고 수준의 추상화 관점에서 시스템이 외부의 요소들과 어떤 관계를 갖는지를 나타냅니다.
![System Landscape Diagram](embed:SystemLandscape)